define('alerts/models/alert',['backbone'], function (Backbone) {
    return Backbone.Model.extend({
        defaults: {
            message:['a'],
            is_closable : true,
            style:'success'
        }
    });
});

define('alerts/views/alert_view',['backbone'], function (Backbone) {
    return Backbone.View.extend({
        template:_.template($('#tpl_alert').html()),
        initialize: function () {
            this.render();
        },
        show: function (message, model_params) {
            model_params = model_params || {};
            model_params.message = message;
            this.model.set(model_params);
            return this.render();
        },
        render : function () {
            this.$el.html(this.template(this.model.toJSON()));
            return this;
        }
    });
});

define('alerts/main',['alerts/models/alert','alerts/views/alert_view'], function (Alert, AlertView) {
    return {
        create: function (params) {
            params.model = new Alert;
            return new AlertView(params);
        }
    }
});

